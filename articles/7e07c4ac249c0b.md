---
title: "tar.gzã§ç¬¬2éšå±¤ä»¥ä¸‹ã‚’ã€æŒ‡å®šãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å±•é–‹ã™ã‚‹"
emoji: "ğŸ™"
type: "tech"
topics:
  - "linux"
published: true
published_at: "2022-08-08 15:37"
---

:::message alert
ã“ã®è¨˜äº‹ã¯è‡ªåˆ†ãŒç¤¾å†…ã§ã¾ã¨ã‚ã¦ã„ãŸã‚‚ã®ã‚’è»¢è¼‰ã—ã¦ãŠã‚Šã¾ã™ã€‚
æƒ…å ±ãŒå¤ã„æã‚ŒãŒã‚ã‚Šã¾ã™ã€‚ã”äº†æ‰¿ãã ã•ã„ã€‚
æŠ•ç¨¿æ—¥ï¼š2021/09/27
:::


ä¸‹è¨˜æ§‹æˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã—ã¦ã„ã‚‹ã¨ãã€

```
$ tree
.
â””â”€â”€ target_dir
    â”œâ”€â”€ test.txt
    â””â”€â”€ test2.txt

1 directory, 2 files
```

target_dirã‚’åœ§ç¸®ã—ã¦

```
$ tar zcvf target_dir.tar.gz target_dir
```

è§£å‡ã™ã‚‹ã¨ã€target_dirãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå±•é–‹ã•ã‚Œã‚‹

```
.
â””â”€â”€ target_dir
Â Â  â”œâ”€â”€ test.txt
Â Â  â””â”€â”€ test2.txt
```


ä¸‹è¨˜æ§‹æˆã®ã¨ãã€ã™ã§ã«target_dirã¯å­˜åœ¨ã—ã¦ã„ã‚‹ã®ã§åŒéšå±¤ã«target_dirã«å¹²æ¸‰ã—ãªã„å½¢ã§åœ§ç¸®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å±•é–‹ã—ãŸã„å ´åˆ

```
$ tree
.
â”œâ”€â”€ target_dir
â”‚Â Â  â”œâ”€â”€ test.txt
â”‚Â Â  â””â”€â”€ test2.txt
â””â”€â”€ target_dir.tar.gz
```

ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã“ã¨ã§target_dir2ã‚’ä½œæˆã—ã€ãã®é…ä¸‹ã«target_dirã®ä¸­èº«ã‚’å±•é–‹ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

```
$ mkdir target_dir2 && tar zxvf target_dir.tar.gz -C target_dir2 --strip-components 1
```

# ç¢ºèª
target_dir2é…ä¸‹ã«å±•é–‹ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã‚‹ã€‚

```
$ tree
.
â”œâ”€â”€ target_dir
â”‚Â Â  â”œâ”€â”€ test.txt
â”‚Â Â  â””â”€â”€ test2.txt
â”œâ”€â”€ target_dir.tar.gz
â””â”€â”€ target_dir2
    â”œâ”€â”€ test.txt
    â””â”€â”€ test2.txt

2 directories, 5 files
```

# è§£èª¬

```
$ mkdir target_dir2 && tar zxvf target_dir.tar.gz -C target_dir2 --strip-components 1
```

1. mkdirã§target_dir2ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã€‚
2. -Cã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸å±•é–‹ã€‚
3. --strip-components 1 ã§ã€ç¬¬1éšå±¤ã‚’åˆ‡ã‚Šæ¨ã¦ã¦ç¬¬2éšå±¤ä»¥ä¸‹ã‚’å±•é–‹ã™ã‚‹ã€‚(strip-componentsã§æŒ‡å®šã™ã‚‹æ•°å­—ã§åˆ‡ã‚Šæ¨ã¦ãŸã„éšå±¤ã‚’æŒ‡å®šã§ãã‚‹)

# å‚è€ƒ
 [tar ã® --strip-components ã¨ -C ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ã‚¹ãƒãƒ¼ãƒˆã«å±•é–‹ã™ã‚‹](https://kakakakakku.hatenablog.com/entry/2018/06/13/220940) 